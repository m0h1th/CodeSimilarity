<!-- admin.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Admin Page</title>
</head>
<body>
    <h2>Create New Problem</h2>
    <form action="/admin" method="post">
        <label for="problem_number">Problem Number:</label>
        <input type="number" name="problem_number" id="problem_number" required><br><br>
        <label for="description">Description:</label><br>
        <textarea name="description" id="description" rows="8" cols="50"></textarea><br><br>

        <div id="examples">
            <div class="example">
                <label for="input1">Input</label><br>
                <textarea name="input" id="input1" rows="4" cols="50"></textarea><br><br>
                <label for="output1">Output</label><br>
                <textarea name="output" id="output1" rows="4" cols="50"></textarea><br><br>
                <label for="difficulty1">Difficulty</label><br>
                <select name="difficulty" id="difficulty1">
                    <option value="easy">Easy</option>
                    <option value="medium">Medium</option>
                    <option value="hard">Hard</option>
                </select><br><br>
            </div>
        </div>

        <button type="button" onclick="addExample()">Add Input-Output Example</button><br><br>
        <input type="submit" value="Submit">
    </form>

    <script>
        function addExample() {
            var examples = document.getElementById('examples');
            var lastExample = examples.lastElementChild;
            var newExample = lastExample.cloneNode(true);

            // Increment input, output, and difficulty ids
            var inputs = newExample.querySelectorAll('textarea[name="input"]');
            var outputs = newExample.querySelectorAll('textarea[name="output"]');
            var difficulties = newExample.querySelectorAll('select[name="difficulty"]');
            
            var lastInputId = parseInt(inputs[inputs.length - 1].id.replace('input', ''));
            var newInputId = lastInputId + 1;
            
            inputs.forEach(function(input) {
                input.id = 'input' + newInputId;
                input.value = ''; // Clear value
            });

            outputs.forEach(function(output) {
                output.id = 'output' + newInputId;
                output.value = ''; // Clear value
            });

            difficulties.forEach(function(difficulty) {
                difficulty.id = 'difficulty' + newInputId;
                difficulty.value = 'easy'; // Reset to default
            });

            examples.appendChild(newExample);
        }
    </script>
</body>
</html>
